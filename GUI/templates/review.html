{% extends "layout.html" %} {% block title %}{{ data.title }}{% endblock %} {%
block content %}
<div id="review-container">
  <div id="video-container">
    <video id="video" controls>
      <source
        src="{{ url_for('video', subreddit=data.subreddit, thread=data.id) }}"
        type="video/mp4"
      />
    </video>

    <div>
      <a
        class="btn btn-md btn-outline-secondary"
        href="{{ url_for('queue_upload', subreddit=data.subreddit, thread=data.id) }}"
      >
        Queue Upload
      </a>

      <button
        class="btn btn-md btn-outline-secondary"
        id="remakeBtn"
        disabled
        onclick="queueRemake('{{ data.subreddit }}', '{{ data.id }}')"
      >
        Queue Remake
      </button>

      <a
        class="btn btn-md btn-outline-secondary"
        href="{{ url_for('delete', subreddit=data.subreddit, thread=data.id) }}"
      >
        Delete
      </a>
    </div>
  </div>

  <div id="content">
    <h2>{{ data.title }}</h2>

    <a
      class="btn btn-md btn-outline-secondary"
      href="{{ data.url }}"
      target="blank"
      style="margin-bottom: 1rem"
    >
      View on Reddit
    </a>

    {% if data.body %}
    <p id="bodyText" oninput="inputBody()">{{ data.body }}</p>
    <button
      class="btn btn-sm btn-outline-secondary"
      id="editBodyBtn"
      onclick="editBody()"
    >
      Edit
    </button>
    <button
      class="btn btn-sm btn-outline-secondary"
      id="confirmBodyBtn"
      disabled
      hidden
      onclick="confirmBody()"
    >
      Confirm
    </button>
    {% endif %} {% if data.comments %}
    <h3>{{ data.comments | length }} comments</h3>
    {% endif %} {% for comment in data.comments %}
    <div class="comment" id="{{ comment.id }}">
      <p id="commentText" oninput="inputComment('{{ comment.id }}')">
        {{ comment.body }}
      </p>
      <button
        class="btn btn-sm btn-outline-secondary"
        id="editBtn"
        onclick="editComment('{{ comment.id }}')"
      >
        Edit
      </button>
      <button
        class="btn btn-sm btn-outline-secondary"
        id="confirmBtn"
        disabled
        hidden
        onclick="confirmComment('{{ comment.id }}')"
      >
        Confirm
      </button>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
